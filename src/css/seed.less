@import "seattletimes";

.interactive {
  max-width: 960px;
}

.timeline {
  display: block;
  margin: auto;
  max-width: 100%;

  .time {
    stroke: black;
  }

  .dot {

    .outer {
      fill: white;
      stroke: @df-middle-gray;
    }

    .inner {
      fill: white;
    }

    &.photo .inner {
      fill: fade(@df-blue, 20%);
    }

    &.mapped .inner {
      fill: fade(@st-dark-green, 40%);
    }

    &.active .outer {
      // stroke-width: 2px;
      stroke: @df-dark-gray;
      fill: @df-off-white;
    }

    &.active.photo .inner {
      fill: @df-blue;
    }

    &.active.mapped .inner {
      fill: @st-dark-green;
    }

  }
}

.iterate {
  .display-flex();
  .justify-content(space-between);

  button {
    background: @df-off-white;
    border: none;
    font-size: 13px;
    text-transform: uppercase;
    cursor: pointer;
    padding: 4px 8px;
    font-weight: normal;
    border-radius: 4px;

    &:hover, &:focus {
      background: @df-light-gray;
    }
  }
}

.event {
  position: relative;
  .display-flex();
  padding: 20px;

  @media @mobile {
    display: block;
  }

  .details {
    .flex(0 0 50%);
    padding-right: 20px;

    .caption {
      font-size: 15px;
      padding-bottom: 8px;
    }

    .photo-block {
      @light: @df-off-white;
      @dark: darken(@light, 5%);
      background: repeating-linear-gradient(37deg,
        @light 0, @light 10px,
        @dark 10px, @dark 20px,
        @light 20px
      );
      padding: 8px;
    }
    
    img {
      display: block;
      margin: auto;
      max-height: 360px;
    }

    .case-note {
      font-style: italic;
      font-family: @df-serif;
      padding: 16px;
      background: @df-off-white;
      margin-top: 8px;
    }
  }

  .map-container {
    .flex(0 0 50%);
    position: relative;
    .flex-order(1);

    &.hide {
      leaflet-map {
        display: none;
      }
      .no-map {
        display: block;
      }
    }

    &::before {
      display: block;
      content: "";
      padding-bottom: 100%;
      @media @mobile {
        padding-bottom: percentage(6 / 16);
      }
    }

    leaflet-map, .no-map {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .no-map {
      display: none;
      background: @df-off-white;
      color: @df-dark-gray;
      font-style: italic;
      font-size: 20px;
      text-align: center;
      padding: 20px;
    }
  }
}

.poaching-marker {
  background: transparent;
  border-radius: 100%;
  border: 1px solid fade(black, 50%);

  &.active {
    background: @df-goldenrod;
  }
}