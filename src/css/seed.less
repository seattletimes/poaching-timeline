@import "seattletimes";

.interactive {
  max-width: 960px;
}

h1 {
  @media @mobile {
    font-size: 30px;
  }
}

.chatter {

  @media @mobile {
   font-size: 16px;
  }
}

.timeline-blocks {
  @size: 20px;
  overflow: hidden;
  padding: 10px;

  @media @mobile {
    text-align: center;
    line-height: 1;
  }

  .block {
    width: @size;
    height: @size;
    background: @df-light-gray;
    float: left;
    border: 1px solid white;
    border-radius: 100%;

    @media @mobile {
      float: none;
      display: inline-block;
      width: @size * .75;
      height: @size * .75;
    }

    &.photo { background: fade(@st-dark-blue, 40%) }
    &.mapped { background: fade(@st-dark-green, 40%) }
    &.active { border-color: @df-middle-gray }
    &.active.photo { background: @st-dark-blue }
    &.active.mapped { background: @st-dark-green }
  }
}

.iterate {
  .display-flex();
  .justify-content(space-between);
  padding-top: 20px;
  padding-bottom: 15px;

  button {
    background: @df-off-white;
    border: none;
    font-size: 13px;
    text-transform: uppercase;
    cursor: pointer;
    padding: 4px 8px;
    font-weight: normal;
    border-radius: 4px;

    &:hover, &:focus {
      background: @df-light-gray;
    }
  }

  &.mobile {
    display: none;

    @media @mobile {
      .display-flex();
    }
  }

  @media @mobile {
    padding-top: 15px;
    padding-bottom: 8px;
  }
}

.event {
  position: relative;
  .display-flex();
  padding: 20px;


  @media @mobile {
    display: block;
    padding: 20px 0;
  }

  .details-map {
    .flex(0 0 45%);

    .details {
      padding-top: 20px;

      @media @mobile {
        padding-right: 0;
      }

      .note-date {
        margin-top: 0px;
        padding-bottom: 10px;

        @media @mobile {
          padding-top: 15px;
        }
      }

      .case-note {
        padding-bottom: 16px;
        margin-top: 8px;

        .text {
          line-height: 28px;
          font-style: italic;
          font-family: @df-serif;

          @media @mobile {
            font-size: 16px;
          }
        }

        .attribution {
          text-align: right;

          @media @mobile {
            font-size: 16px;
          }
        }
      }
    }  

  }

  .spacer {
    .flex(0 0 5%);
  }

  .photo-container {
    .flex( 0 0 50%);
  }

  .photo-caption {


    .caption {
      padding-top: 15px;
      font-size: 15px;
      padding-bottom: 8px;
    }

    .photo-block {
      @light: @df-off-white;
      @dark: darken(@light, 5%);
      background-color: @df-off-white;
      padding: 8px;
    }
        
    img {
      display: block;
      margin: auto;
      max-height: 610px;
    }
  }

  .map-container {
    .flex(0 0 100%);
    position: relative;
    width: 100%;
    
    @media @mobile {
      .flex-order(-2);
    } 

    .no-map {
      display: none;
      }  

    &.hide {
      leaflet-map {
        display: none;
      }
      .no-map {
        .display-flex();
      }
    }

    &::before {
      display: block;
      content: "";
      padding-bottom: percentage(9 / 16);
      @media @mobile {
        padding-bottom: percentage(6 / 16);
      }
    }

    leaflet-map, .no-map {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    .no-map {
      display: none;
      background: @df-off-white;
      color: @df-charcoal;
      font-size: 20px;
      padding: 60px;
      text-align: center;
      .justify-content(center);
      .flex-direction(column);
    }

    .material-icons.error {
      color: @st-dark-red;
      padding-right: 10px;
    }
    
  }
}

.poaching-marker {
  background: transparent;
  border-radius: 100%;
  border: 1px solid fade(black, 50%);

  &.active {
    background: @df-goldenrod;
  }
}

.source {
  margin-bottom: 8px;
  font-size: 16px;
}

.credit {
  text-align: right;
  font-size: 14px;
  font-style: italic;
  text-transform: uppercase;
}